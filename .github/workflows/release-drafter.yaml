---
name: Release Drafter

# yamllint disable-line rule:truthy
on:
  push:
    branches:
      - main
  workflow_dispatch:
    inputs:
      prerelease:
        description: "Create a pre-release (beta)"
        required: false
        type: boolean
        default: false
      prerelease_identifier:
        description: "Pre-release identifier"
        required: false
        type: choice
        default: "beta"
        options:
          - beta
          - alpha
          - rc

jobs:
  update_release_draft:
    name: âœï¸ Draft release
    runs-on: ubuntu-latest
    steps:
      - name: ğŸš€ Run Release Drafter
        uses: release-drafter/release-drafter@v6.1.0
        with:
          prerelease: ${{ github.event.inputs.prerelease == 'true' }}
          prerelease-identifier: ${{ github.event.inputs.prerelease_identifier }}
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
